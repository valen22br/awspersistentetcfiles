"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GoodTypeScriptStack = void 0;
const cdk = require("aws-cdk-lib");
const s3 = require("aws-cdk-lib/aws-s3");
/**
 * AWS CloudFormation Sample Template S3_Website_Bucket_With_Retain_On_Delete: Sample template showing how to create a publicly accessible S3 bucket configured for website access with a deletion policy of retain on delete.
 */
class GoodTypeScriptStack extends cdk.Stack {
    constructor(scope, id, props = {}) {
        super(scope, id, props);
        // Resources
        const s3Bucket = new s3.CfnBucket(this, 'S3Bucket', {
            accessControl: 'PublicRead',
            websiteConfiguration: {
                indexDocument: 'index.html',
                errorDocument: 'error.html',
            },
        });
        s3Bucket.cfnOptions.deletionPolicy = cdk.CfnDeletionPolicy.RETAIN;
        // Outputs
        this.websiteUrl = s3Bucket.attrWebsiteUrl;
        this.s3BucketSecureUrl = [
            'https://',
            s3Bucket.attrDomainName,
        ].join('');
    }
}
exports.GoodTypeScriptStack = GoodTypeScriptStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMtc3RhY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzMy1zdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBS3pDOztHQUVHO0FBQ0gsTUFBYSxtQkFBb0IsU0FBUSxHQUFHLENBQUMsS0FBSztJQVVoRCxZQUFtQixLQUFjLEVBQUUsRUFBVSxFQUFFLFFBQWtDLEVBQUU7UUFDakYsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFeEIsWUFBWTtRQUNaLE1BQU0sUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFO1lBQ2xELGFBQWEsRUFBRSxZQUFZO1lBQzNCLG9CQUFvQixFQUFFO2dCQUNwQixhQUFhLEVBQUUsWUFBWTtnQkFDM0IsYUFBYSxFQUFFLFlBQVk7YUFDNUI7U0FDRixDQUFDLENBQUM7UUFDSCxRQUFRLENBQUMsVUFBVSxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDO1FBRWxFLFVBQVU7UUFDVixJQUFJLENBQUMsVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUM7UUFDMUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHO1lBQ3ZCLFVBQVU7WUFDVixRQUFRLENBQUMsY0FBYztTQUN4QixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUM7Q0FDRjtBQTlCRCxrREE4QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0ICogYXMgczMgZnJvbSAnYXdzLWNkay1saWIvYXdzLXMzJztcblxuZXhwb3J0IGludGVyZmFjZSBHb29kVHlwZVNjcmlwdFN0YWNrUHJvcHMgZXh0ZW5kcyBjZGsuU3RhY2tQcm9wcyB7XG59XG5cbi8qKlxuICogQVdTIENsb3VkRm9ybWF0aW9uIFNhbXBsZSBUZW1wbGF0ZSBTM19XZWJzaXRlX0J1Y2tldF9XaXRoX1JldGFpbl9Pbl9EZWxldGU6IFNhbXBsZSB0ZW1wbGF0ZSBzaG93aW5nIGhvdyB0byBjcmVhdGUgYSBwdWJsaWNseSBhY2Nlc3NpYmxlIFMzIGJ1Y2tldCBjb25maWd1cmVkIGZvciB3ZWJzaXRlIGFjY2VzcyB3aXRoIGEgZGVsZXRpb24gcG9saWN5IG9mIHJldGFpbiBvbiBkZWxldGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBHb29kVHlwZVNjcmlwdFN0YWNrIGV4dGVuZHMgY2RrLlN0YWNrIHtcbiAgLyoqXG4gICAqIFVSTCBmb3Igd2Vic2l0ZSBob3N0ZWQgb24gUzNcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSB3ZWJzaXRlVXJsO1xuICAvKipcbiAgICogTmFtZSBvZiBTMyBidWNrZXQgdG8gaG9sZCB3ZWJzaXRlIGNvbnRlbnRcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBzM0J1Y2tldFNlY3VyZVVybDtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2NvcGU6IGNkay5BcHAsIGlkOiBzdHJpbmcsIHByb3BzOiBHb29kVHlwZVNjcmlwdFN0YWNrUHJvcHMgPSB7fSkge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgLy8gUmVzb3VyY2VzXG4gICAgY29uc3QgczNCdWNrZXQgPSBuZXcgczMuQ2ZuQnVja2V0KHRoaXMsICdTM0J1Y2tldCcsIHtcbiAgICAgIGFjY2Vzc0NvbnRyb2w6ICdQdWJsaWNSZWFkJyxcbiAgICAgIHdlYnNpdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgIGluZGV4RG9jdW1lbnQ6ICdpbmRleC5odG1sJyxcbiAgICAgICAgZXJyb3JEb2N1bWVudDogJ2Vycm9yLmh0bWwnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBzM0J1Y2tldC5jZm5PcHRpb25zLmRlbGV0aW9uUG9saWN5ID0gY2RrLkNmbkRlbGV0aW9uUG9saWN5LlJFVEFJTjtcblxuICAgIC8vIE91dHB1dHNcbiAgICB0aGlzLndlYnNpdGVVcmwgPSBzM0J1Y2tldC5hdHRyV2Vic2l0ZVVybDtcbiAgICB0aGlzLnMzQnVja2V0U2VjdXJlVXJsID0gW1xuICAgICAgJ2h0dHBzOi8vJyxcbiAgICAgIHMzQnVja2V0LmF0dHJEb21haW5OYW1lLFxuICAgIF0uam9pbignJyk7XG4gIH1cbn1cbiJdfQ==